---
title: Operators
subtitle: การใช้งาน <strong>เครื่องหมายการดำเนินการ</strong> ในภาษาโปรแกรม
icon: fas fa-plus
difficulty: 2
duration: 4
useful: 4
---

## การใช้เครื่องหมายคณิตศาสตร์

เครื่องหมายบวก `+` โดยหลักการใช้ปกติบนภาษาโปรแกรมทั่วไป รวมทั้ง JavaScript จะมีความสามารถดังนี้

- ข้อมูลประเภท Number จะทำการ **บวกเลข**
- ข้อมูลประเภท String และอื่ีนๆจะทำการ **รวมข้อความ**

```javascript
let x = 2;
let y = 5;
let message = 'foobar';
alert(`${x} + ${y} = ${x + y}`); // บวกเลข
alert(`${message} + ${x} + ${y} = ${message + x + y}`); // รวมข้อความ
```

และนอกจากนั้นคือเครื่องหมายลบ `-` คูณ `*` และหาร `/` ตามปกติสำหรับข้อมูลประเภท Number เพื่อนำมาคำนวณ โดยสามารถใช้เครื่องหมายวงเล็บ `()` ในการจัดลำดับการคำนวณเช่นเดียวกับคณิตศาสตร์ได้ โดยการคำนวณจะเริ่มจากวงเล็บข้างในสุดก่อน

```javascript
let x = 5;
let y = 2;
let z = 1.5;
alert(`${x} * ${y} - ${z} = ${x * y - z}`); // 5 * 2 = 10 จากนั้น 10 - 1.5 = 8.5
alert(`${x} * (${y} - ${z}) = ${x * (y - z)}`); // 2 - 1.5 = 0.5 จากนั้น 0.5 * 5 = 2.5
```

และโปรแกรมจะใช้วิธีการ [ลำดับการดำเนินการ](https://th.wikipedia.org/wiki/ลำดับการดำเนินการ) เช่นเดียวกับคณิตศาสตร์

```javascript
let n1 = 5;
let n2 = 4;
let n3 = 7;
let n4 = 2;
alert(n1 + n2 * n3 / n4); // = 19
// จากโจทย์ 5 + 4 * 7 / 2
// โดยลำดับดำเนินการจะใช้คูณก่อน 4 * 7 = 28
// จากนั้นทำการหาร 28 / 2 = 14
// จากนั้นตามทำการบวกเป็นสุดท้าย 5 + 14 = 19
alert(((n1 + n2) * n3) / n4); // = 31.5
// จากโจทย์ ((5 + 4) * 7) / 2
// โดยลำดับจากวงเล็บในสุด 5 + 4 = 9
// จากนั้นวงเล็บต่อมา 9 * 7 = 63
// จบที่นอกวงเล็บ 63 / 2 = 31.5
```

> **เพิ่มเติม:** เนื่องจากปัญหาของการบวก Number กับ String จะถูกแทนค่าเป็น String ดังตัวอย่าง แต่เราสามารถแปลงประเภทของข้อมูลได้
>
> ```javascript
> let x = '2';
> let y = '5';
> alert(x + y); // x + y ตามปกติ จะได้เป็นการรวม String
> alert(+x + +y); // +x จะถูกแปลงค่าเป็น Number ก่อนคำนวณ
>
> // ตรวจสอบประเภทได้ดังตัวอย่างด้านล่าง
> alert(`
>   typeof(x) is ${typeof(x)}
>   typeof(+x) is ${typeof(+x)}
> `);
> ```
> ```javascript
> let x = 2;
> let y = 5;
> alert(x + y); // x + y ตามปกติ จะได้เป็น Number
> alert(String(x) + String(y)); // +x จะถูกแปลงค่าเป็น String
>
> // ตรวจสอบประเภทได้ดังตัวอย่างด้านล่าง
> alert(`
>   typeof(x) is ${typeof(x)}
>   typeof(String(x)) is ${typeof(String(x))}
> `);
> ```

## การกำหนดค่า

เราคงทราบกันดีแล้วว่าสามารถกำหนดค่าได้โดยการใช้ `=` ที่หมายถึงการ **Assignment** (หรือเรียกสั้นๆว่า Assign)

```javascript
let x = 2;
let y = 5;
let answer = 2 + 5;
alert(`Answer is ${answer}`);
```

โดยเราสามารถทำการ **Reassignment** เพื่อการแทนที่ค่าเดิมได้

```javascript
// จากโจทย์ของ ((5 + 4) * 7) / 2
let n1 = 5;
let n2 = 4;
let n3 = 7;
let n4 = 2;
let c1 = n1 + n2; // นำผลลัพธ์ n1 + n2 แทนค่าลง c1
let c2 = c1 * n3; // นำ c1 ที่เพิ่งได้แทนค่าจากด้านบนเป็น c1 * n3
let c3 = c2 / n4;
alert(`
  c1 = ${c1}
  c2 = ${c2}
  c3 = ${c3}
  Sum = ${c1 + c2 + c3} << ทดลองบวกทุกตัว
`);
c2 = 1;
c3 = 0;
alert(`
  c1 = ${c1}
  c2 = ${c2} << ค่าถูกแทนที่ใหม่
  c3 = ${c3} << ค่าถูกแทนที่ใหม่
  Sum = ${c1 + c2 + c3} << ทดลองบวกทุกตัว
`);
```

โดยส่วนมากหลายๆคนมักเกิดความสับสนในการกำหนดค่าในตัวแปร ยกตัวอย่างด้านล่าง

```javascript
let x = 20;
x + 30; // x + 30 ได้ 50 แต่ไม่ได้ถูกกำหนดค่าไว้ในที่ใดๆ จึงได้ 50 ลอยๆทิ้งไว้ และไม่ถูกใช้งาน
alert(x); // ได้ 20 เพราะ x ไม่มีการเปลี่ยนแปลงค่าใดๆ
```

```javascript
let x = 20;
x = x + 30; // x + 30 ได้ 50 และถูกใช้งาน โดยกำหนดค่าด้วยคำสั่ง = ให้แก่ x ใหม่อีกครั้ง
alert(x); // ได้ 50
```

> **คำเตือน:** ในการกำหนดค่าด้วย `=` หากตัวแปรได้ถูกประกาศไว้ก่อนหน้านั้นแล้ว เช่น `c2` และ `c3` เราจะเห็นว่าไม่มีการเรียกใช้ `let` ซ้ำอีกครั้ง เพราะค่าเหล่านั้นถูก Assignment เรียบร้อย จึงสามารถแทนที่ค่าใหม่ได้ทันที แต่หากไม่มีประกาศตัวแปรด้วย `let` โดยแต่แรก จะทำให้โปรแกรมไม่รู้จักตัวแปลเหล่านั้น และขึ้น Error ว่า `xx is not defined` หรือก็คือตัวแปร xx ไม่ได้ถูกประกาศไว้นั้นเอง
>
> ```javascript
> c2 = 5;
> c3 = 5;
> alert(c2 + c3);
> ```
> {:.is-danger}
{:.is-danger}

## การหารเอาเศษ

ในการหารเอาเศษจะใช้เครื่องหมาย `%` ในการดำเนินการ

```javascript
alert(5 % 2); // 5 หาร 2 เหลือเศษ 1
// กล่าวคือ 5 / 2 ไม่สามารถทำได้ เพราะ 2, 2 = 4 ขณะที่ 2, 2, 1 = 5 จึงเหลือเศษ 1

alert(11 % 4); // 11 หาร 4 เหลือเศษ 3
// 11 / 4 ไม่สามารถทำได้ เพราะ 4, 4 = 8 ขณะที่ 4, 4, 3 = 11 จึงเหลือเศษ 3
```

```javascript
// ใช้ x % 2 เพื่อการหาเลขคู่หรือคี่ โดยจะได้ 1 หากเป็นเลขคี่ และได้ 0 หากเป็นเลขคู่
alert(7 % 2); // 1
alert(10 % 2); // 0
alert(23 % 2); // 1
alert(28 % 2); // 0
```

## การยกกำลัง

ในการยกกำลังของ JavaScript อาจจะมีหลายวิธี แต่สามารถใช้เครื่องหมาย `**` เพื่อแทนการยกกำลังได้อย่างง่าย

```javascript
alert(2 ** 1); // สองยกกำลังหนึ่ง 2 = 1
alert(2 ** 2); // สองยกกำลังสอง 2 * 2 = 4
alert(2 ** 3); // สองยกกำลังสาม 2 * 2 * 2 = 8
alert(2 ** 4); // สองยกกำลังสี่ 2 * 2 * 2 * 2 = 16
```

```javascript
// สามารถใช้ x ** (1/2) ในการใช้คำนวณ Square Root ได้
alert(4 ** (1/2)); // 2 * 2 = 4 คำตอบจึงเป็น 2
alert(9 ** (1/2)); // 3 * 3 = 9 คำตอบจึงเป็น 3
alert(81 ** (1/2)); // 9 * 9 = 81 คำตอบจึงเป็น 9
alert(18.0625 ** (1/2)); // 4.25 * 4.25 = 18.0625 คำตอบจึงเป็น 4.25
```

## การเพิ่มและลดจำนวน

โดยปกติการเพิ่มค่า Number ทีล่ะ 1 จะใช้วิธีดังนี้

```javascript
let x = 2;
x = x + 1;
alert(x); // 3
```

```javascript
let x = 2;
x + 1; // อย่างที่เคยกล่าวไว้ จะทำให้ข้อนี้มีปัญหาได้ x + 1 = 3 มาลอยๆ โดยไม่มีการกำหนดค่าใหม่
alert(x); // ได้ 2 ค่าเดิม ดังนั้นต้องแก้ด้วยการทำ Reassignment
```
{:.is-danger}

ซึ่งภาษาโปรแกรมจะสามารถใช้เครื่องหมาย `++` และ `--` ในการเพิ่มลดค่าได้โดยไม่จำเป็นต้อง Reassignment ใหม่ เพื่อลดขนาดการเขียนโปรแกรม โดยตัวอย่าง

```javascript
let x = 2;
x++; // มีความหมายเหมือนกับ x = x + 1
alert(x); // 3
```

```javascript
let x = 2;
x--; // มีความหมายเหมือนกับ x = x - 1
alert(x); // 1
```

โดยการใช้ `++` และ `--` หากใช้ตามหลังตัวแปร โปรแกรมจะทำการแสดงผล **ข้อมูลเดิม** ก่อนที่จะทำการดำเนินการทางคณิตศาสตร์ เช่นดังตัวอย่าง

```javascript
let x = 2;
alert(x++); // 2 เพราะแสดง x = 2 จากนั้นจึงทำการ x = x + 1 ภายหลัง
alert(x); // 3
```

```javascript
let x = 2;
alert(++x); // 3 เพราะก่อนแสดง x ทำการ x = x + 1 ก่อน
alert(x); // 3
```

> **หมายเหตุ:** สามารถสังเกตง่ายๆโดยการดูตำแหน่งของ `++` หรือ `--`
> - หากตามหลังตัวแปร จะแสดงก่อนแล้ว **คำนวณที่หลัง** คำนวณทีหลัง
> - หากมาก่อนตัวแปร จะทำการ **คำนวณก่อน** และแสดงผลต่อจากนั้น

## บทสรุป

- การใช้เครื่องหมาย `+` `-` `*` `/`
  - เครื่องหมาย `+` หากใช้กับ Number จะเป็นการบวกเลข
  - เครื่องหมาย `+` หากใช้กับ String จะเป็นการเพิ่มข้อความ
- การใช้เครื่องหมายวงเล็บ `()` เพื่อจัดลำดับการคำนวณ
- การแปลงจาก String เป็น Number เช่น `+'2'`
- การแปลงจาก Number เป็น String เช่น `String(2)`
- การใช้ `=` ในการกำหนดค่า (Assignment)
  - การกำหนดค่าใหม่ (Reassignment) เพื่อแทนค่าเดิมที่มีอยู่
- การหารเอาเศษด้วย `%`
- การยกกำลังด้วย `**`
- การเพิ่มจำนวนด้วย `++` และลดจำนวนด้วย `--`
  - การใช้ตำแหน่งนำหน้า และตามหลังของตัวแปร เพื่อเพิ่มและลดจำนวนที่ถูกต้อง
